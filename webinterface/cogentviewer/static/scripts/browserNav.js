// Generated by CoffeeScript 1.3.3

require(["dgrid/OnDemandGrid", "dgrid/tree", "dojo/store/JsonRest", "dgrid/extensions/DijitRegistry", "dgrid/editor", "dgrid/Selection", "dgrid/selector", "dojo/_base/declare", "dojo/domReady!"], function(Grid, tree, JsonRest, DijitRegistry, editor, Selection, selector, Declare) {
  var dataGrid, stdGrid, theGrid, treeStore;
  console.log("Starting Tree Grid");
  treeStore = JsonRest({
    target: "rest/deploymenttree/",
    getChildren: function(object, options) {
      var theChildren;
      theChildren = this.query({
        parent: object.id
      });
      return theChildren;
    }
  });
  stdGrid = new Declare([Grid, DijitRegistry, Selection]);
  theGrid = new stdGrid({
    store: treeStore,
    columns: [
      editor({
        label: "Select",
        field: "bool"
      }, "checkbox"), tree({
        label: "name",
        field: "name"
      }), {
        label: "parent",
        field: "parent"
      }, {
        label: "type",
        field: "type"
      }
    ]
  }, "gridNode");
  theGrid.startup();
  dataGrid = new stdGrid({
    columns: [
      {
        label: "Deplyoment"
      }
    ]
  }, "dataNode");
  dataGrid.startup();
});
